- [docker run](#docker-run)

# docker run

> docker run [OPTIONS] IMAGE [COMMAND] [ARG...]

会按照指定的选项和参数来创建和启动一个容器。运行 docker run 命令时，Docker 将首先检查本地是否已存在指定的镜像。如果不存在，Docker 将从 Docker 镜像仓库中下载该镜像。然后，Docker 将根据提供的选项和参数创建并启动一个容器。

- -i：表示要将容器的标准输入 (stdin) 保持打开状态。这允许你与容器进行交互。
  
- -t：为容器分配一个伪终端 (pseudo-TTY)。

- -d：将容器作为后台进程（守护态）运行。退出交互后继续运行
  > docker 进入后台运行的镜像：docker exec -it my-container /bin/bash  
  > 停止容器后台运行的镜像：docker stop <容器名称或容器ID>  

- -p：用于指定主机与容器之间的端口映射

- -v：用于将主机上的目录或文件与容器内的目录或文件进行挂载。
  > docker run -v /host/path:/container/path  

- -e：用于设置容器内的环境变量。
  > docker run -e MYSQL_ROOT_PASSWORD=pass123 mysql  

- --restart：用于设置容器在退出后如何重新启动。是面向生产环境的一个启动策略，在开发过程中可以忽略该策略。Docker容器的重启策略如下：
  - no，默认策略，在容器退出时不重启容器
  - on-failure，在容器非正常退出时（退出状态非0），才会重启容器
  - on-failure:3，在容器非正常退出时重启容器，最多重启3次
  - always，在容器退出时总是重启容器
  - unless-stopped，在容器退出时总是重启容器，但是不考虑在Docker守护进程启动时就已经停止了的容器
  > docker run --restart=always -d image_name  
